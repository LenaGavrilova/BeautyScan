BeautyScan

BeautyScan - это веб-приложение для анализа состава косметических средств. Приложение позволяет пользователям проверять безопасность ингредиентов в косметических продуктах, получать рекомендации и сохранять результаты анализа в личном кабинете.

Функциональность

- Анализ ингредиентов: Проверка безопасности ингредиентов косметических средств
- Распознавание текста: Возможность загрузить фото состава для автоматического распознавания
- Оценка безопасности: Расчет общей оценки безопасности продукта и процентного соотношения безопасных/опасных компонентов
- Обработка неизвестных ингредиентов: Выделение и маркировка неизвестных ингредиентов с соответствующими предупреждениями
- Управление ингредиентами: Возможность для администраторов добавлять, редактировать и удалять ингредиенты через веб-интерфейс
- Личный кабинет: Регистрация, авторизация и хранение истории анализов
- Рекомендации: Предоставление рекомендаций на основе анализа состава

Технологии

Бэкенд
- PHP 8.2
- Symfony 6
- MySQL
- Docker

Фронтенд
- Vue.js 3
- Axios
- HTML/CSS

Установка и запуск

Требования
- PHP 8.2+
- Composer
- Node.js и npm
- Docker (опционально)

Установка бэкенда

1. Клонировать репозиторий:
```bash
git clone https://github.com/yourusername/BeautyScan.git
cd BeautyScan
```

2. Установить зависимости:
```bash
composer install
```

3. Настроить подключение к базе данных в файле `.env`:
```
DATABASE_URL="mysql://username:password@127.0.0.1:3306/beauty_scan?serverVersion=8.0"
```

4. Создать базу данных и выполнить миграции:
```bash
php bin/console doctrine:database:create
php bin/console doctrine:migrations:migrate
```

5. Загрузить начальный набор ингредиентов из CSV-файла (опционально):
```bash
php bin/console app:import-ingredients.csv data/ingredients_example.csv
```

6. Запустить сервер:
```bash
php -S 0.0.0.0:8000 -t public
```

Или с использованием Docker:
```bash
docker run --rm -v $(pwd):/app -w /app -p 8000:8000 php:8.2-cli php -S 0.0.0.0:8000 -t public
```

Установка фронтенда

1. Перейти в директорию клиента:
```bash
cd beauty_scan_client
```

2. Установить зависимости:
```bash
npm install
```

3. Запустить сервер разработки:
```bash
npm run serve
```

4. Приложение будет доступно по адресу: http://localhost:8080 (или другой порт, указанный в консоли)

Структура проекта

Бэкенд

- `src/Controller/` - контроллеры API
- `src/Entity/` - сущности базы данных
- `src/Repository/` - репозитории для работы с базой данных
- `src/Service/` - сервисы приложения, включая анализатор ингредиентов
- `src/Command/` - консольные команды, включая импорт ингредиентов из CSV

Фронтенд

- `beauty_scan_client/src/components/` - Vue компоненты
- `beauty_scan_client/src/views/` - страницы приложения
- `beauty_scan_client/src/router/` - маршрутизация
- `beauty_scan_client/src/api/` - настройка Axios для работы с API

Основные функции API

- `POST /api/register` - регистрация нового пользователя
- `POST /api/login` - авторизация пользователя
- `GET /api/account` - получение данных аккаунта
- `POST /api/extract-text` - извлечение текста из изображения
- `POST /api/analyze` - анализ ингредиентов

- `GET /api/history` - получение истории анализов
- `POST /api/history` - сохранение анализа в историю
- `GET /api/history/{id}` - получение конкретного анализа
- `DELETE /api/history/{id}` - удаление анализа из истории

- `GET /api/ingredients` - получение списка ингредиентов
- `GET /api/ingredients/{id}` - получение конкретного ингредиента
- `POST /api/ingredients` - создание ингредиента (только для администраторов)
- `PUT /api/ingredients/{id}` - обновление ингредиента (только для администраторов)
- `DELETE /api/ingredients/{id}` - удаление ингредиента (только для администраторов)

Особенности реализации

Анализ ингредиентов

Анализ ингредиентов выполняется сервисом `IngredientAnalyzerService`, который:
1. Разбивает текст состава на отдельные ингредиенты
2. Определяет известные и неизвестные ингредиенты
3. Для известных ингредиентов определяет уровень безопасности (безопасный, с предупреждением, опасный)
4. Для неизвестных ингредиентов добавляет соответствующую маркировку
5. Рассчитывает общую оценку безопасности и процентное соотношение ингредиентов
6. Формирует рекомендации на основе анализа

Обработка неизвестных ингредиентов

Система специально обрабатывает неизвестные ингредиенты:
1. Маркирует их как "неизвестные" с соответствующим визуальным выделением
2. Предоставляет предупреждение о наличии неизвестных ингредиентов
3. Корректирует рекомендации с учетом процента неизвестных ингредиентов
4. Предлагает проконсультироваться со специалистом при высоком проценте неизвестных ингредиентов

Управление базой ингредиентов

Система включает панель администрирования для управления базой ингредиентов:
1. Веб-интерфейс для добавления, редактирования и удаления ингредиентов
2. Возможность указать уровень безопасности и описание для каждого ингредиента
3. Управление синонимами для улучшения распознавания ингредиентов
4. Консольная команда для массового импорта ингредиентов из CSV-файла

Формат CSV-файла для импорта ингредиентов:
```
name;safety_level;description;synonyms
Aqua;safe;Основа большинства косметических средств;Water,H2O,Вода
```

Где:
- `name` - название ингредиента
- `safety_level` - уровень безопасности (safe, caution, danger)
- `description` - описание ингредиента
- `synonyms` - список синонимов, разделенных запятыми

Лицензия

MIT
# BeautyScan
